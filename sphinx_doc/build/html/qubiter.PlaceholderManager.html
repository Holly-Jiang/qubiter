

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>qubiter.PlaceholderManager module &mdash; qubiter 1.0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> qubiter
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
        
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="rosetta.html">Rosetta Stone</a></li>
<li class="toctree-l1"><a class="reference internal" href="classgraph.html">Class Graph</a></li>
</ul>

            
          
        <a href="py-modindex.html">Module Index</a>
    
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">qubiter</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>qubiter.PlaceholderManager module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/qubiter.PlaceholderManager.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-qubiter.PlaceholderManager">
<span id="qubiter-placeholdermanager-module"></span><h1>qubiter.PlaceholderManager module<a class="headerlink" href="#module-qubiter.PlaceholderManager" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="qubiter.PlaceholderManager.PlaceholderManager">
<em class="property">class </em><code class="sig-prename descclassname">qubiter.PlaceholderManager.</code><code class="sig-name descname">PlaceholderManager</code><span class="sig-paren">(</span><em class="sig-param">no_vars=False</em>, <em class="sig-param">eval_all_vars=True</em>, <em class="sig-param">var_num_to_rads=None</em>, <em class="sig-param">fun_name_to_fun=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/qubiter/PlaceholderManager.html#PlaceholderManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qubiter.PlaceholderManager.PlaceholderManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The word “placeholder” (as used here and in Tensorflow) refers to a
variable whose evaluation is postponed until a later time. In this
class, we consider gate angle variables-placeholders.</p>
<p>Legal variable names are described in the docstring of the function
is_legal_var_name() in this class.</p>
<p>An object of this class is owned by SEO_reader and subclasses thereof.
When a circuit is read, the methods owned by this class are called to
try to replace the placeholders by values. This class owns a dictionary
<cite>var_num_to_rads</cite> that is used to store values of all angle variables
used in all placeholders. The class also owns a dictionary
<cite>fun_name_to_fun</cite> that is used to store functions used in “functional”
type placeholders. Together, these 2 dictionaries are used to find a
float value (“resolve”) each placeholder.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>all_fun_names</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – a list of all the distinct function names encountered in circuit</p></li>
<li><p><strong>all_var_nums</strong> (<em>list</em><em>[</em><em>int</em><em>]</em>) – a list of all distinct variable numbers encountered in circuit</p></li>
<li><p><strong>eval_all_vars</strong> (<em>bool</em>) – will abort if this is True and a variable can’t be evaluated</p></li>
<li><p><strong>fun_name_to_fun</strong> (<em>dict</em><em>[</em><em>str</em><em>, </em><em>function</em><em>]</em>) – dictionary mapping a function name to a function</p></li>
<li><p><strong>fun_name_to_hist</strong> (<em>dict</em><em>[</em><em>str</em><em>, </em><em>list</em><em>[</em><em>function|None</em><em>]</em><em>]</em>) – dictionary mapping a function name to its history (a list of
function or None). This is only used when using loops in the English
file. See LoopFileGenerator and LoopyPlaceholder classes for more
info about this variable.</p></li>
<li><p><strong>fun_name_to_use_count</strong> (<em>dict</em><em>[</em><em>str</em><em>, </em><em>int</em><em>]</em>) – dictionary mapping a function name to its current use count (the
number of times it has been used. Repeat appearances inside a loop
or nested loops are considered as different uses.)</p></li>
<li><p><strong>no_vars</strong> (<em>bool</em>) – will abort if this is True and a variable is detected</p></li>
<li><p><strong>var_num_to_hist</strong> (<em>dict</em><em>[</em><em>int</em><em>, </em><em>list</em><em>[</em><em>float|None</em><em>]</em><em>]</em>) – dictionary mapping a variable number to its history (a list of float
or None). This is only used when using loops in the English file. See
LoopFileGenerator and LoopyPlaceholder classes for more info about
this variable.</p></li>
<li><p><strong>var_num_to_rads</strong> (<em>dict</em><em>[</em><em>int</em><em>, </em><em>float</em><em>]</em>) – dictionary mapping a variable number to its value in radians</p></li>
<li><p><strong>var_num_to_use_count</strong> (<em>dict</em><em>[</em><em>int</em><em>, </em><em>int</em><em>]</em>) – dictionary mapping a variable number to its current use count (the
number of times it has been used. Repeat appearances inside a loop
or nested loops are considered as different uses.)</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="qubiter.PlaceholderManager.PlaceholderManager.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">no_vars=False</em>, <em class="sig-param">eval_all_vars=True</em>, <em class="sig-param">var_num_to_rads=None</em>, <em class="sig-param">fun_name_to_fun=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/qubiter/PlaceholderManager.html#PlaceholderManager.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qubiter.PlaceholderManager.PlaceholderManager.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructor</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>no_vars</strong> (<em>bool</em>) – </p></li>
<li><p><strong>eval_all_vars</strong> (<em>bool</em>) – </p></li>
<li><p><strong>var_num_to_rads</strong> (<em>dict</em><em>[</em><em>int</em><em>, </em><em>float</em><em>]</em>) – a dict mapping variable numbers to a float for radians. Used by
a SEO_reader or its children to evaluate hash prefixed angle
variables in a placeholder.</p></li>
<li><p><strong>fun_name_to_fun</strong> (<em>dict</em><em>[</em><em>str</em><em>, </em><em>function</em><em>]</em>) – a dictionary mapping each function name to a function that
returns a float that stands for radians. Used by a SEO_reader or
its children to evaluate function names in a functional
placeholder.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="qubiter.PlaceholderManager.PlaceholderManager.degs_str_to_rads">
<code class="sig-name descname">degs_str_to_rads</code><span class="sig-paren">(</span><em class="sig-param">degs_str</em>, <em class="sig-param">line_count</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/qubiter/PlaceholderManager.html#PlaceholderManager.degs_str_to_rads"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qubiter.PlaceholderManager.PlaceholderManager.degs_str_to_rads" title="Permalink to this definition">¶</a></dt>
<dd><p>This method takes in a string degs_str which might represent either
a str() of a float expressing degrees or a legal var name.</p>
<p>If degs_str is not a legal_var_name, the method assumes (This
assumption is okay because the file was written by SEO_writer so it
is always well formed) it’s a str() of a float and returns float(
deg_str)*pi/180.</p>
<p>If degs_str is a legal variable name, the method tries to resolve it
into a rads_value using the 2 dictionaries: self.var_num_to_rads and
self.fun_name_to_fun. If it finds a rads_value, the method returns
rads_value. If no rads_value can be found, the method outputs the
input string unchanged (unless eval_all_vars=True in which case the
method aborts).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>degs_str</strong> (<em>str</em>) – </p></li>
<li><p><strong>line_count</strong> (<em>int</em>) – this is the line_count in the English file being read. This is
not used by this function but is used by overrides of it like
the one in LoopyPlaceholderManager</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float | str</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="qubiter.PlaceholderManager.PlaceholderManager.get_leg_var_fun_name">
<em class="property">static </em><code class="sig-name descname">get_leg_var_fun_name</code><span class="sig-paren">(</span><em class="sig-param">var_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/qubiter/PlaceholderManager.html#PlaceholderManager.get_leg_var_fun_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qubiter.PlaceholderManager.PlaceholderManager.get_leg_var_fun_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Assumes var_name is a legal variable name (doesn’t check). Returns
the function name if there is one or None otherwise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>var_name</strong> (<em>str</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str | None</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="qubiter.PlaceholderManager.PlaceholderManager.get_leg_var_scale_fac">
<em class="property">static </em><code class="sig-name descname">get_leg_var_scale_fac</code><span class="sig-paren">(</span><em class="sig-param">var_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/qubiter/PlaceholderManager.html#PlaceholderManager.get_leg_var_scale_fac"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qubiter.PlaceholderManager.PlaceholderManager.get_leg_var_scale_fac" title="Permalink to this definition">¶</a></dt>
<dd><p>Assumes var_name is a legal variable name (doesn’t check). If it’s a
functional variable, it returns None. If it’s not a functional
variable, it returns the scale factor, the float after the <a href="#id1"><span class="problematic" id="id2">*</span></a>,
if there is a * or a 1 if there is no *</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>var_name</strong> (<em>str</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float | None</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="qubiter.PlaceholderManager.PlaceholderManager.get_leg_var_sign">
<em class="property">static </em><code class="sig-name descname">get_leg_var_sign</code><span class="sig-paren">(</span><em class="sig-param">var_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/qubiter/PlaceholderManager.html#PlaceholderManager.get_leg_var_sign"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qubiter.PlaceholderManager.PlaceholderManager.get_leg_var_sign" title="Permalink to this definition">¶</a></dt>
<dd><p>Assumes var_name is a legal variable name (doesn’t check). Returns
sign of variable, either +1 or -1</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>var_name</strong> (<em>str</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="qubiter.PlaceholderManager.PlaceholderManager.get_leg_var_var_nums">
<em class="property">static </em><code class="sig-name descname">get_leg_var_var_nums</code><span class="sig-paren">(</span><em class="sig-param">var_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/qubiter/PlaceholderManager.html#PlaceholderManager.get_leg_var_var_nums"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qubiter.PlaceholderManager.PlaceholderManager.get_leg_var_var_nums" title="Permalink to this definition">¶</a></dt>
<dd><p>Assumes var_name is a legal variable name (doesn’t check). Returns a
list of the variable numbers</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>var_name</strong> (<em>str</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list[int]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="qubiter.PlaceholderManager.PlaceholderManager.have_resolved_history">
<em class="property">static </em><code class="sig-name descname">have_resolved_history</code><span class="sig-paren">(</span><em class="sig-param">hist</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/qubiter/PlaceholderManager.html#PlaceholderManager.have_resolved_history"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qubiter.PlaceholderManager.PlaceholderManager.have_resolved_history" title="Permalink to this definition">¶</a></dt>
<dd><p>This function tries to resolve a history. It returns True iff it
succeeds.</p>
<p>A history of a variable is a list of all the values it will assume
all the times it is used in the circuit (each repetition in a loop
or nested loops is counted as a different use.) For a hash
placeholder, a history is a list of floats or None’s. For a
functional placeholder, a history is a list of functions or None’s.</p>
<p>Resolving a history successfully means replacing all None’s by a
value that is not a None. This is accomplished by moving in order of
ascending index on the list and replacing each None by its
predecessor. The very first use cannot be a None.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>hist</strong> (<em>list</em><em>[</em><em>float | function | None</em><em>]</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="qubiter.PlaceholderManager.PlaceholderManager.is_functional_var">
<em class="property">static </em><code class="sig-name descname">is_functional_var</code><span class="sig-paren">(</span><em class="sig-param">var_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/qubiter/PlaceholderManager.html#PlaceholderManager.is_functional_var"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qubiter.PlaceholderManager.PlaceholderManager.is_functional_var" title="Permalink to this definition">¶</a></dt>
<dd><p>Assumes var_name is a legal variable name (doesn’t check). Returns
True iff var_name is a functional variable name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>var_name</strong> (<em>str</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="qubiter.PlaceholderManager.PlaceholderManager.is_legal_var_name">
<em class="property">static </em><code class="sig-name descname">is_legal_var_name</code><span class="sig-paren">(</span><em class="sig-param">name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/qubiter/PlaceholderManager.html#PlaceholderManager.is_legal_var_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qubiter.PlaceholderManager.PlaceholderManager.is_legal_var_name" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns True iff name is a legal variable name.</p>
<p>Legal variable names must be of form <cite>#3</cite> or <cite>-#3</cite> or <cite>#3*.5</cite> or
<cite>-#3*.5</cite> where 3 can be replaced by any non-negative int, and .5 can
be replaced by anything that can be an argument of float() without
throwing an exception. In this example, the 3 that follows the hash
character is called the variable number</p>
<p>NEW! (functional placeholder variables)</p>
<p>Now legal variable names can ALSO be of the form <cite>my_fun#1#2</cite> or
<cite>-my_fun#1#2</cite>, where</p>
<ul class="simple">
<li><p>the 1 and 2 can be replaced by any non-negative integers and there</p></li>
</ul>
<p>might be any number &gt; 0 of hash variables. Thus, there need not
always be precisely 2 hash variables as in the example.</p>
<ul class="simple">
<li><p><cite>my_fun</cite> can be replaced by the name of any function with one or</p></li>
</ul>
<p>more input floats (2 inputs in the example), as long as the first
character of the function’s name is a lower case letter.</p>
<p>The strings <cite>my_fun#1#2</cite> or <cite>-my_fun#1#2</cite> indicate than one wants to
use for the angle being replaced, the values of <cite>my_fun(#1, #2)</cite> or
<cite>-my_fun(#1, #2)</cite>, respectively, where the inputs #1 and #2 are
floats standing for radians and the output is also a float standing
for radians.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="qubiter.PlaceholderManager.PlaceholderManager.resolve_all_histories">
<code class="sig-name descname">resolve_all_histories</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/qubiter/PlaceholderManager.html#PlaceholderManager.resolve_all_histories"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qubiter.PlaceholderManager.PlaceholderManager.resolve_all_histories" title="Permalink to this definition">¶</a></dt>
<dd><p>This function tries to resolve the histories of all hash and
functional placeholder variables. It aborts if it fails to resolve
any of those histories.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Robert R. Tucci &amp; Qubiter contributors

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>